# é•¿å¾è·¯ - æ²‰æµ¸å¼äº’åŠ¨å†å²ä½“éªŒåº”ç”¨

ä¸€ä¸ªåŸºäºVue 3çš„ç°ä»£åŒ–äº’åŠ¨å¼å†å²æ•™è‚²åº”ç”¨ï¼Œé€šè¿‡Mapboxåœ°å›¾å¯¼èˆªå’Œæ²‰æµ¸å¼æ•…äº‹å‰§æƒ…ï¼Œè®©ç”¨æˆ·æ·±åº¦ä½“éªŒä¸­å›½å·¥å†œçº¢å†›é•¿å¾çš„ä¼Ÿå¤§å†ç¨‹ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- **é«˜ç²¾åº¦åœ°å›¾ä½“éªŒ**: åŸºäºMapbox GL JSçš„çœŸå®åœ°ç†æ•°æ®é•¿å¾è·¯çº¿å›¾
- **æ²‰æµ¸å¼å‰§æƒ…ç³»ç»Ÿ**: ä¸°å¯Œçš„å†å²æ•…äº‹ã€äººç‰©å¯¹è¯å’Œé€‰æ‹©åˆ†æ”¯
- **æ™ºèƒ½æˆå°±ç³»ç»Ÿ**: å®Œæˆå†å²èŠ‚ç‚¹è§£é”ç›¸åº”æˆå°±å¾½ç« 
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- **ç°ä»£åŒ–UI**: åŸºäºGSAPçš„æµç•…åŠ¨ç”»æ•ˆæœå’Œä¼˜é›…è§†è§‰è®¾è®¡
- **MCPé›†æˆ**: æ”¯æŒModel Context Protocolçš„æ™ºèƒ½äº¤äº’

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + Composition API
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ ·å¼æ¡†æ¶**: Tailwind CSS + @tailwindcss/forms
- **åœ°å›¾ç»„ä»¶**: Mapbox GL JS + @mapbox/mapbox-gl-language
- **åŠ¨ç”»åº“**: GSAP
- **æ„å»ºå·¥å…·**: Vite 5
- **HTTPå®¢æˆ·ç«¯**: Axios
- **äº‹ä»¶æ€»çº¿**: Mitt
- **å¼€å‘è¯­è¨€**: JavaScript/ES6+
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
LongMarch/
â”œâ”€â”€ public/                    # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ assets/               # åª’ä½“èµ„æº
â”‚   â”‚   â”œâ”€â”€ achv/            # æˆå°±å›¾æ ‡
â”‚   â”‚   â”œâ”€â”€ broll/           # èƒŒæ™¯éŸ³ä¹
â”‚   â”‚   â”œâ”€â”€ nodes/           # èŠ‚ç‚¹å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ sfx/             # éŸ³æ•ˆæ–‡ä»¶
â”‚   â””â”€â”€ images/              # å›¾ç‰‡èµ„æº
â”‚       â””â”€â”€ hero-bg.svg      # é¦–é¡µèƒŒæ™¯å›¾
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AchievementDisplay.vue  # æˆå°±å±•ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AchievementToast.vue    # æˆå°±æç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ErrorMessage.vue        # é”™è¯¯æç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HistoricalDisplay.vue   # å†å²å±•ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.vue      # åŠ è½½åŠ¨ç”»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MapView.vue             # åœ°å›¾ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ NodeList.vue            # èŠ‚ç‚¹åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StoryRunner.vue         # æ•…äº‹æ’­æ”¾å™¨
â”‚   â”‚   â””â”€â”€ Timeline.vue            # æ—¶é—´çº¿ç»„ä»¶
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ MapPage.vue      # åœ°å›¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ StoryPage.vue    # æ•…äº‹é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Achievements.vue # æˆå°±é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Settings.vue     # è®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ MapboxTest.vue   # Mapboxæµ‹è¯•é¡µé¢
â”‚   â”œâ”€â”€ stores/              # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ progress.js      # è¿›åº¦çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ achievements.js  # æˆå°±çŠ¶æ€
â”‚   â”‚   â””â”€â”€ settings.js      # è®¾ç½®çŠ¶æ€
â”‚   â”œâ”€â”€ data/                # æ¨¡æ‹Ÿæ•°æ®
â”‚   â”‚   â”œâ”€â”€ achievements.mock.json   # æˆå°±æ•°æ®
â”‚   â”‚   â”œâ”€â”€ demo-script.mock.json    # æ¼”ç¤ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ historical-media.mock.json # å†å²åª’ä½“
â”‚   â”‚   â”œâ”€â”€ nodes.mock.json          # èŠ‚ç‚¹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ route.mock.json          # è·¯çº¿æ•°æ®
â”‚   â”‚   â”œâ”€â”€ scenes.mock.json         # åœºæ™¯æ•°æ®
â”‚   â”‚   â””â”€â”€ scenes/                  # åœºæ™¯æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ api/                 # APIæ¥å£å±‚
â”‚   â”‚   â”œâ”€â”€ index.js         # APIå…¥å£
â”‚   â”‚   â”œâ”€â”€ mock.js          # æ¨¡æ‹ŸAPI
â”‚   â”‚   â””â”€â”€ real.js          # çœŸå®API
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ bus.js           # äº‹ä»¶æ€»çº¿
â”‚   â”‚   â””â”€â”€ geo.js           # åœ°ç†å·¥å…·
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js         # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ assets/              # æ ·å¼èµ„æº
â”‚   â”‚   â””â”€â”€ style.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç›®å½•(é¢„ç•™)
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js              # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html               # HTMLæ¨¡æ¿
â”œâ”€â”€ mapbox-token-debug.html  # Mapboxè°ƒè¯•é¡µé¢
â”œâ”€â”€ mapbox-token-test.html   # Mapboxæµ‹è¯•é¡µé¢
â”œâ”€â”€ package.json             # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js           # Viteé…ç½®
â”œâ”€â”€ tailwind.config.js       # Tailwindé…ç½®
â”œâ”€â”€ postcss.config.js        # PostCSSé…ç½®
â”œâ”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ Frontend_prompt          # å‰ç«¯æç¤ºæ–‡ä»¶
```

## ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0
- Mapbox Access Token (ç”¨äºåœ°å›¾åŠŸèƒ½)

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘ç¯å¢ƒè¿è¡Œ

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨å¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

### ä»£ç è§„èŒƒ

```bash
# ä»£ç æ£€æŸ¥å’Œä¿®å¤
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format
```

### MCP (Model Context Protocol) ç›¸å…³

```bash
# å¯åŠ¨MCPæœåŠ¡å™¨
npm run mcp:start

# æµ‹è¯•MCPè¿æ¥
npm run mcp:test

# æŸ¥çœ‹MCPé…ç½®
npm run mcp:config

# è®¾ç½®Trae MCP
npm run trae:setup

# æµ‹è¯•Trae MCP
npm run trae:test
```

## ğŸ® åŠŸèƒ½ä»‹ç»

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **é¦–é¡µå¯¼èˆª (Home.vue)**
   - é¡¹ç›®ä»‹ç»å’ŒåŠŸèƒ½æ¦‚è§ˆ
   - å¿«é€Ÿè¿›å…¥åœ°å›¾æˆ–æŸ¥çœ‹æˆå°±
   - å“åº”å¼å¸ƒå±€é€‚é…å„ç§è®¾å¤‡
   - è‹±é›„èƒŒæ™¯å›¾å’ŒåŠ¨ç”»æ•ˆæœ

2. **äº’åŠ¨åœ°å›¾ (MapPage.vue + MapView.vue)**
   - åŸºäºMapbox GL JSçš„é«˜ç²¾åº¦åœ°å›¾
   - æ˜¾ç¤ºå®Œæ•´çš„é•¿å¾è·¯çº¿å’Œå†å²èŠ‚ç‚¹
   - ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å’Œå†å²èƒŒæ™¯
   - è¿›åº¦è¿½è¸ªå’Œè·¯çº¿å¯¼èˆª
   - æ”¯æŒç¼©æ”¾ã€å¹³ç§»å’Œå¤šè¯­è¨€æ˜¾ç¤º
   - èŠ‚ç‚¹åˆ—è¡¨ç»„ä»¶ (NodeList.vue) æä¾›å¿«é€Ÿå¯¼èˆª

3. **æ•…äº‹å‰§æƒ…ç³»ç»Ÿ (StoryPage.vue + StoryRunner.vue)**
   - æ²‰æµ¸å¼å†å²æ•…äº‹ä½“éªŒ
   - è§’è‰²å¯¹è¯å’Œé€‰æ‹©åˆ†æ”¯
   - èƒŒæ™¯éŸ³ä¹å’ŒéŸ³æ•ˆæ”¯æŒ
   - è‡ªåŠ¨ä¿å­˜è¿›åº¦åŠŸèƒ½
   - å†å²å±•ç¤ºç»„ä»¶ (HistoricalDisplay.vue)
   - æ—¶é—´çº¿ç»„ä»¶ (Timeline.vue) å±•ç¤ºå†å²è¿›ç¨‹

4. **æˆå°±ç³»ç»Ÿ (Achievements.vue)**
   - å®ŒæˆèŠ‚ç‚¹è§£é”æˆå°±å¾½ç« 
   - æˆå°±å±•ç¤ºç»„ä»¶ (AchievementDisplay.vue)
   - æˆå°±æç¤ºç»„ä»¶ (AchievementToast.vue)
   - è¿›åº¦ç»Ÿè®¡å’Œåˆ†ç±»æµè§ˆ
   - æˆå°±è§£é”åŠ¨ç”»æ•ˆæœ

5. **è®¾ç½®ä¸­å¿ƒ (Settings.vue)**
   - éŸ³æ•ˆå’ŒéŸ³ä¹æ§åˆ¶
   - æ˜¾ç¤ºåå¥½è®¾ç½®
   - æ•°æ®ç®¡ç†åŠŸèƒ½
   - ç”¨æˆ·ä½“éªŒä¸ªæ€§åŒ–é…ç½®

6. **å¼€å‘å·¥å…·**
   - Mapboxæµ‹è¯•é¡µé¢ (MapboxTest.vue)
   - Tokenè°ƒè¯•åŠŸèƒ½
   - MCPåè®®é›†æˆæµ‹è¯•

### æŠ€æœ¯ç‰¹æ€§

- **ç°ä»£åŒ–æ¶æ„**: Vue 3 Composition API + Vite 5æ„å»º
- **å“åº”å¼è®¾è®¡**: Tailwind CSSè‡ªå®šä¹‰æ–­ç‚¹å’ŒåŠ¨ç”»
- **çŠ¶æ€ç®¡ç†**: Piniaæ¨¡å—åŒ–çŠ¶æ€ç®¡ç† (progress.js, achievements.js, settings.js)
- **é”™è¯¯å¤„ç†**: å…¨å±€é”™è¯¯æ•è·å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º (ErrorMessage.vue)
- **åŠ è½½çŠ¶æ€**: ç»Ÿä¸€çš„åŠ è½½æŒ‡ç¤ºå™¨ (LoadingSpinner.vue) å’ŒSuspenseæ”¯æŒ
- **æ€§èƒ½ä¼˜åŒ–**: 
  - Viteä»£ç åˆ†å‰² (vendor, mapbox, animation chunks)
  - ç»„ä»¶æ‡’åŠ è½½å’Œè·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
  - èµ„æºä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥
- **ç§»åŠ¨ç«¯é€‚é…**: è§¦æ‘¸å‹å¥½çš„äº¤äº’ä½“éªŒå’Œè‡ªé€‚åº”å¸ƒå±€
- **å¼€å‘ä½“éªŒ**: ESLint + Prettierä»£ç è§„èŒƒï¼Œçƒ­é‡è½½å¼€å‘æœåŠ¡å™¨

## ğŸ¨ è®¾è®¡ç†å¿µ

- **å†å²æ•™è‚²**: é€šè¿‡æ²‰æµ¸å¼äº’åŠ¨ä½“éªŒä¼ æ‰¿çº¢è‰²æ–‡åŒ–å’Œé•¿å¾ç²¾ç¥
- **ç”¨æˆ·ä½“éªŒ**: ç›´è§‚æ˜“ç”¨çš„ç•Œé¢è®¾è®¡ï¼Œæµç•…çš„åŠ¨ç”»äº¤äº’
- **æŠ€æœ¯åˆ›æ–°**: ç°ä»£WebæŠ€æœ¯çš„æœ€ä½³å®è·µï¼Œå‰æ²¿æŠ€æœ¯æ ˆåº”ç”¨
- **è·¨å¹³å°**: ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯é€‚é…ï¼Œå“åº”å¼è®¾è®¡
- **æ€§èƒ½ä¼˜å…ˆ**: ä¼˜åŒ–åŠ è½½é€Ÿåº¦ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–æ¶æ„ï¼Œæ¸…æ™°çš„ä»£ç ç»„ç»‡

## ğŸ“± æµè§ˆå™¨æ”¯æŒ

- **Chrome** >= 90 (æ¨è)
- **Firefox** >= 88
- **Safari** >= 14
- **Edge** >= 90
- **ç§»åŠ¨ç«¯**: iOS Safari >= 14, Android Chrome >= 90

> æ³¨æ„ï¼šç”±äºä½¿ç”¨äº†Mapbox GL JSï¼Œéœ€è¦æ”¯æŒWebGLçš„ç°ä»£æµè§ˆå™¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. **å®‰è£…ä¾èµ–å¹¶å¼€å‘**
   ```bash
   npm install
   npm run dev
   ```
4. **ä»£ç è§„èŒƒæ£€æŸ¥**
   ```bash
   npm run lint
   npm run format
   ```
5. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m 'feat: add amazing feature'
   ```
6. **æ¨é€åˆ°åˆ†æ”¯**
   ```bash
   git push origin feature/amazing-feature
   ```
7. **å¼€å¯ Pull Request**

### ä»£ç è§„èŒƒ

- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„ commit ä¿¡æ¯
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æ£€æŸ¥

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…


**è®©æˆ‘ä»¬ä¸€èµ·é‡èµ°é•¿å¾è·¯ï¼Œæ„Ÿå—é‚£æ®µæ³¢æ¾œå£®é˜”çš„å†å²ï¼Œä¼ æ‰¿ä¸æœ½çš„é•¿å¾ç²¾ç¥ï¼** ğŸš©âœ¨

*"é›„å…³æ¼«é“çœŸå¦‚é“ï¼Œè€Œä»Šè¿ˆæ­¥ä»å¤´è¶Š"* - é€šè¿‡ç°ä»£ç§‘æŠ€é‡ç°å†å²ï¼Œè®©é•¿å¾ç²¾ç¥è–ªç«ç›¸ä¼ ã€‚